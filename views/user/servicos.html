<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>P√°gina de Servi√ßos - BioEnergy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .logo { width: 180px; border-radius: 12px; }
    .page-title { text-align: center; color: #198754; font-weight: 800; margin: 50px 0 20px; }
    .section-title { color: #198754; font-weight: 700; margin-bottom: 30px; text-align: center; }
    .card { border: none; border-radius: 15px; box-shadow: 0 0 10px rgba(0,0,0,0.1); transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; height: 100%; }
    .card-body { flex: 1; }
    .card:hover { transform: scale(1.04); box-shadow: 0 0 20px rgba(25, 135, 84, 0.3); }
    .card-img-top { height: 220px; object-fit: cover; border-top-left-radius: 15px; border-top-right-radius: 15px; width: 100%; }
    hr { border: 2px solid #198754; width: 120px; margin: 0 auto; border-radius: 5px; margin-bottom: 50px; }
.extra-services {
  display: none;
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  transition: opacity 0.25s ease, max-height 0.25s ease;
}

.extra-services.show {
  display: block;
  opacity: 1;
  max-height: 800px; 
}

.card.bg-dark {
  background-color: hsla(240, 15%, 9%, 0.85);
  border-radius: 1rem;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

.card:hover {
  transform: translateZ(0); 
}

  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-success">
  <div class="container-fluid px-4">
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="/img/logo.svg" alt="Logo BioEnergy" class="logo me-2">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navMenu">
      <ul class="navbar-nav align-items-center">
        <li class="nav-item"><a class="nav-link" href="/">HOME</a></li>
        <li class="nav-item"><a class="nav-link" href="/user">USER</a></li>
        <li class="nav-item"><a class="nav-link" href="/user/#chatbot">CHATBOT</a></li>
        <li class="nav-item"><a class="nav-link" href="/produtos">PRODUTOS</a></li>
        <li class="nav-item"><a class="nav-link" href="/servicos">SERVI√áOS</a></li>
        <li class="nav-item"><a class="nav-link" href="/manutencoes">MANUTEN√á√ïES</a></li>
        
        <li class="nav-item">
          <a class="nav-link" href="/carrinho">
            <i class="bi bi-cart-fill fs-4"></i> 
          </a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle fs-4 me-1"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
            <li><h6 class="dropdown-header">Informa√ß√µes Pessoais</h6></li>
            <li><a class="dropdown-item" href="#">Usu√°rio: <span id="nome-usuario">Carregando...</span></a></li>
            <li><a class="dropdown-item" href="#">Senha: ********</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/mudar-usuario">Mudar Usu√°rio</a></li>
            <li><a class="dropdown-item" href="/mudar-senha">Mudar Senha</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#" onclick="realizarLogout(event)">Sair</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <div class="container py-5">
    <h1 class="page-title">Nossos Servi√ßos</h1>
    <hr>

    <h3 class="section-title">Consultoria em Biomassa</h3>
    <div class="row justify-content-center g-4 mb-5">
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">An√°lise de Viabilidade de Projetos</h5>
            <p class="card-text">Estudo detalhado sobre custos, retorno financeiro e sustentabilidade para implementa√ß√£o de solu√ß√µes em biomassa.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Customiza√ß√£o de Sistemas de Energia</h5>
            <p class="card-text">Desenvolvimento de projetos personalizados de acordo com a necessidade do cliente e disponibilidade de mat√©ria-prima.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Avalia√ß√£o T√©cnica de Processos Existentes</h5>
            <p class="card-text">Revis√£o de sistemas de biomassa j√° instalados para otimizar efici√™ncia e reduzir desperd√≠cios.</p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="section-title">Instala√ß√£o de Equipamentos</h3>
    <div class="row justify-content-center g-4 mb-5">
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Implementa√ß√£o de Sistemas de Gera√ß√£o</h5>
            <p class="card-text">Instala√ß√£o completa de equipamentos de √∫ltima gera√ß√£o para produ√ß√£o de energia a partir de biomassa.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Servi√ßo de Upgrade Tecnol√≥gico</h5>
            <p class="card-text">Moderniza√ß√£o de sistemas antigos, garantindo maior efici√™ncia e seguran√ßa.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Monitoramento P√≥s-Instala√ß√£o</h5>
            <p class="card-text">Acompanhamento do desempenho dos equipamentos nas primeiras semanas de opera√ß√£o, assegurando ajustes r√°pidos.</p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="section-title">Manuten√ß√£o Especializada</h3>
    <div class="row justify-content-center g-4 mb-5">
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Manuten√ß√£o Preventiva Programada</h5>
            <p class="card-text">Visitas regulares para inspe√ß√£o e preven√ß√£o de falhas nos equipamentos.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Atendimento Corretivo Emergencial 24/7</h5>
            <p class="card-text">Suporte r√°pido para reparos e substitui√ß√£o de pe√ßas originais em caso de falhas.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Relat√≥rios de Desempenho</h5>
            <p class="card-text">An√°lise cont√≠nua da efici√™ncia dos equipamentos, sugerindo melhorias e ajustes t√©cnicos.</p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="section-title">Capacita√ß√£o T√©cnica</h3>
    <div class="row justify-content-center g-4 mb-5">
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Treinamentos Pr√°ticos</h5>
            <p class="card-text">Workshops e cursos hands-on para operadores de sistemas de energia por biomassa.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Certifica√ß√£o Profissional</h5>
            <p class="card-text">Programas que oferecem certifica√ß√£o reconhecida em opera√ß√£o e manuten√ß√£o de equipamentos.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Suporte T√©cnico Cont√≠nuo</h5>
            <p class="card-text">Acompanhamento remoto e presencial para tirar d√∫vidas e resolver problemas operacionais.</p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="section-title">Estudos de Viabilidade</h3>
    <div class="row justify-content-center g-4 mb-5">
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">An√°lise Detalhada de ROI</h5>
            <p class="card-text">Estudo do retorno sobre investimento para projetos de energia sustent√°vel.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Proje√ß√µes Financeiras Personalizadas</h5>
            <p class="card-text">Elabora√ß√£o de relat√≥rios financeiros considerando diferentes cen√°rios de produ√ß√£o e custos.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Relat√≥rios Detalhados de Impacto</h5>
            <p class="card-text">Avalia√ß√£o de impacto econ√¥mico e ambiental dos projetos antes da implementa√ß√£o.</p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="section-title">Sustentabilidade e Certifica√ß√£o</h3>
    <div class="row justify-content-center g-4 mb-5">
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Consultoria para Certifica√ß√µes Ambientais</h5>
            <p class="card-text">Aux√≠lio para obten√ß√£o de selos como ISO 14001, LEED ou outros padr√µes de sustentabilidade.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Implementa√ß√£o de Pr√°ticas ESG</h5>
            <p class="card-text">Orienta√ß√£o para melhorar indicadores de governan√ßa ambiental, social e corporativa.</p>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-success fw-bold">Planos de Sustentabilidade Personalizados</h5>
            <p class="card-text">Desenvolvimento de estrat√©gias sustent√°veis adaptadas √† opera√ß√£o do cliente.</p>
          </div>
        </div>
      </div>
    </div>

<h3 class="section-title">Planos BioEnergy</h3>
<hr>

<div class="row justify-content-center g-4 mb-5">

  <div class="col-12 col-md-4">
    <div class="card bg-dark text-white h-100">
      <div class="card-header bg-success text-white text-center fw-bold">
        üü§ Plano BioBronze
      </div>
      <div class="card-body">
        <ul class="list-unstyled mb-0">
          <li>‚úÖ An√°lise de Viabilidade de Projetos</li>
          <li>‚úÖ Implementa√ß√£o de Sistemas de Gera√ß√£o</li>
          <li>‚úÖ Manuten√ß√£o Preventiva Programada</li>
          <li>‚úÖ Treinamentos Pr√°ticos</li>
          <li>‚úÖ An√°lise Detalhada de ROI</li>
          <li>‚úÖ Consultoria para Certifica√ß√µes Ambientais</li>
        </ul>
      </div>
      <div class="card-footer bg-light text-center">
        <button class="btn btn-success fw-bold" data-bs-toggle="modal" data-bs-target="#planoModal" data-plano="BioBronze">Saiba Mais</button>
      </div>
    </div>
  </div>

  <div class="col-12 col-md-4">
    <div class="card bg-dark text-white h-100">
      <div class="card-header bg-warning text-dark text-center fw-bold">
        üü° Plano BioGold
      </div>
      <div class="card-body">
        <ul class="list-unstyled mb-0">
          <li>‚úÖ Inclui todos os servi√ßos do BioBronze</li>
          <li>‚úÖ Customiza√ß√£o de Sistemas de Energia</li>
          <li>‚úÖ Avalia√ß√£o T√©cnica de Processos Existentes</li>
          <li>‚úÖ Servi√ßo de Upgrade Tecnol√≥gico</li>
          <li>‚úÖ Monitoramento P√≥s-Instala√ß√£o</li>
          <li>‚úÖ Atendimento Corretivo Emergencial 24/7</li>
          <li>‚úÖ Relat√≥rios de Desempenho</li>
          <li>‚úÖ Certifica√ß√£o Profissional</li>
          <li>‚úÖ Suporte T√©cnico Cont√≠nuo</li>
        </ul>
      </div>
      <div class="card-footer bg-light text-center">
        <button class="btn btn-warning text-dark fw-bold" data-bs-toggle="modal" data-bs-target="#planoModal" data-plano="BioGold">Saiba Mais</button>
      </div>
    </div>
  </div>

  <div class="col-12 col-md-4">
    <div class="card bg-dark text-white h-100">
      <div class="card-header bg-dark text-white text-center fw-bold">
        ‚ö´ Plano BioPlatinum
      </div>
      <div class="card-body">
        <ul class="list-unstyled mb-0">
          <li>‚úÖ Inclui todos os servi√ßos do BioGold</li>
          <li>‚úÖ Proje√ß√µes Financeiras Personalizadas</li>
          <li>‚úÖ Relat√≥rios Detalhados de Impacto</li>
          <li>‚úÖ Implementa√ß√£o de Pr√°ticas ESG</li>
          <li>‚úÖ Planos de Sustentabilidade Personalizados</li>
        </ul>
      </div>
      <div class="card-footer bg-light text-center">
        <button class="btn btn-dark fw-bold" data-bs-toggle="modal" data-bs-target="#planoModal" data-plano="BioPlatinum">Saiba Mais</button>
      </div>
    </div>
  </div>

</div>

<div class="modal fade" id="planoModal" tabindex="-1" aria-labelledby="planoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" id="planoModalLabel">Detalhes do Plano</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <p><strong>Nome do usu√°rio:</strong> <span id="usuarioPlanoSpan"></span></p>
        <p><strong>Plano selecionado:</strong> <span id="planoSpan"></span></p>
        <p><strong>Descri√ß√£o:</strong> <span id="descricaoPlanoSpan"></span></p>

        <p><strong>Formas de pagamento:</strong></p>
        <ul>
          <li>Mensal (30 dias): R$ <span id="custoMensalSpan"></span></li>
          <li>Anual (1 ano, 10% desconto): R$ <span id="custoAnualSpan"></span></li>
        </ul>
      </div>
      <div class="modal-footer d-flex justify-content-between">
        <button type="button" id="confirmarMensal" class="btn btn-success">Confirmar Mensal</button>
        <button type="button" id="confirmarAnual" class="btn btn-primary">Confirmar Anual</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>




  <script>
    let usuarioLogado = null
     fetch('/dados-usuario')
    .then(res => res.json())
    .then(data => {
      usuarioLogado = data.usuario
      document.getElementById('nome-usuario').textContent = data.usuario;
    });
    function realizarLogout(event) {
        event.preventDefault(); 
        sessionStorage.removeItem('usuarioLogado');
        sessionStorage.removeItem('logado');
        window.location.href = '/sair'; 
    }
    const planosInfo = {
    "BioBronze": {
      descricao: "Plano b√°sico que inclui an√°lise de viabilidade, instala√ß√£o de sistemas de gera√ß√£o, manuten√ß√£o preventiva e consultoria ambiental.",
      custo: 14000
    },
    "BioGold": {
      descricao: "Plano intermedi√°rio com solu√ß√µes completas de gera√ß√£o, manuten√ß√£o, suporte t√©cnico e certifica√ß√£o profissional.",
      custo: 28000
    },
    "BioPlatinum": {
      descricao: "Plano premium com suporte total, personaliza√ß√£o de sistemas, treinamentos exclusivos e implementa√ß√£o de pr√°ticas ESG.",
      custo: 34000
    }
  };

  document.querySelectorAll('[data-bs-target="#planoModal"]').forEach(btn => {
    btn.addEventListener('click', () => {
      const tipo = btn.getAttribute('data-plano');
      const info = planosInfo[tipo];

      const mensal = (info.custo / 12).toFixed(2);
      const anual = (info.custo * 0.9).toFixed(2);

      document.getElementById('usuarioPlanoSpan').textContent = usuarioLogado || "Usu√°rio";
      document.getElementById('planoSpan').textContent = tipo;
      document.getElementById('descricaoPlanoSpan').textContent = info.descricao;
      document.getElementById('custoMensalSpan').textContent = mensal;
      document.getElementById('custoAnualSpan').textContent = anual;
    });
  });

  // Confirmar Mensal
  document.getElementById("confirmarMensal").addEventListener("click", async () => {
    const plano = document.getElementById('planoSpan').textContent;
    const usuario = usuarioLogado;
    const custo = parseFloat(document.getElementById('custoMensalSpan').textContent);
    const duracao = "30 dias";

    try {
      const res = await fetch('/adicionar-servico', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ usuario, plano, tipoPagamento: "Mensal", custo, duracao })
      });
      const data = await res.json();
      if (data.sucesso) {
        alert("Plano mensal solicitado com sucesso!");
      } else {
        alert("Erro ao registrar a solicita√ß√£o.");
      }
    } catch (err) {
      console.error(err);
      alert("Erro na conex√£o com o servidor.");
    }
  });

  // Confirmar Anual
  document.getElementById("confirmarAnual").addEventListener("click", async () => {
    const plano = document.getElementById('planoSpan').textContent;
    const usuario = usuarioLogado; 
    const custo = parseFloat(document.getElementById('custoAnualSpan').textContent);
    const duracao = "1 ano";

    try {
      const res = await fetch('/adicionar-servico', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ usuario, plano, tipoPagamento: "Anual", custo, duracao })
      });
      const data = await res.json();
      if (data.sucesso) {
        alert("Plano anual solicitado com sucesso!");
      } else {
        alert("Erro ao registrar a solicita√ß√£o.");
      }
    } catch (err) {
      console.error(err);
      alert("Erro na conex√£o com o servidor.");
    }
  });

  </script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
