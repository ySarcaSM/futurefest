  <!doctype html>
  <html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BioEnergy - Transformando biomassa em energia</title>
    <link rel="stylesheet" href="style.css">


    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-success">
  <div class="container">
    <img class="logo" src="/img/logo.svg" alt="imagem logo tipo">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navMenu">
      <ul class="navbar-nav align-items-center" id="navbarItems">

      </ul>
    </div>
  </div>
</nav>

<header id="home" class="py-5">
  <div class="container">
    <div class="row g-4 hero-row align-items-stretch">
      <div class="col-lg-7 d-flex">
        <div class="hero-card p-4 rounded-3 shadow-sm w-100">
          <h1 id="textoBiomassa" class="display-6 fw-bold mb-3">
            <span class="text-bg-soft bg-transparent p-0 fw-bold">Transformando biomassa</span>
            <span class="highlight-yellow">em energia</span>
          </h1>
          <p class="lead text-white-75 mb-3">
            A BioEnergy é especialista em soluções para geração de energia limpa a partir de biomassa e resíduos orgânicos.
            Atuamos com instalação e manutenção de equipamentos e capacitação técnica, ajudando produtores e indústrias a reduzir custos,
            aumentar a eficiência e adotar práticas sustentáveis.
          </p>
          <a href="#servicos" class="btn btn-light btn-lg">Nossos serviços</a>
        </div>
      </div>

      <div class="col-lg-5 d-none d-lg-flex hero-image-col">
        <img src="/img/img_hero.jpg" class="hero-right-image" alt="Imagem Transformando biomassa em energia">
      </div>
    </div>
  </div>
</header>
  <section id="sobre" class="py-5 bg-white">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-7">
          <div class="text-start mb-4">
            <h2 class="fw-bold text-success">Sobre Nós</h2>
          </div>

          <p class="lead text-muted">
            A BioEnergy é uma empresa certificada B-Corp que oferece soluções inovadoras para geração de energia limpa
            a partir de resíduos orgânicos e biomassa. Atuamos com tecnologias de ponta que transformam resíduos
            orgânicos e agroindustriais em energia, calor e bioprodutos de alto valor agregado.
          </p>

          <p class="text-muted">
            Nosso objetivo é reduzir custos operacionais, aumentar a competitividade dos nossos clientes e
            minimizar impactos ambientais, promovendo práticas sustentáveis e eficientes que contribuem para
            um futuro mais verde.
          </p>

          <div class="row text-start mt-4 g-3">
            <div class="col-6 col-md-3">
              <i class="bi bi-check-circle-fill text-success"></i>
              <span class="ms-2">Soluções Sustentáveis</span>
            </div>
            <div class="col-6 col-md-3">
              <i class="bi bi-check-circle-fill text-success"></i>
              <span class="ms-2">Tecnologia de Ponta</span>
            </div>
            <div class="col-6 col-md-3">
              <i class="bi bi-check-circle-fill text-success"></i>
              <span class="ms-2">Redução de Custos</span>
            </div>
            <div class="col-6 col-md-3">
              <i class="bi bi-check-circle-fill text-success"></i>
              <span class="ms-2">Impacto Ambiental Positivo</span>
            </div>
          </div>
        </div>

        <div class="col-lg-5 mt-4 mt-lg-0">
          <div class="card shadow-sm card-accent-top h-100">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title text-success mb-3">Custo operacional</h5>

              <div class="flex-fill d-flex align-items-center justify-content-center">
                <canvas id="operationalCostChart" width="400" height="260" style="max-width:100%;"></canvas>
              </div>

              <p class="small text-muted mt-3 mb-0">Valores em mil reais; gráfico ilustrativo.</p>
              <div class="text-end mt-2"><small class="text-muted">Made with leo ken</small></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<section id="assistentes" class="py-5">
  <div class="container">
    <div class="row g-4">

      <div class="col-lg-12">
        <div class="card shadow-sm h-100" style="min-height: 420px;">
          <div class="card-body d-flex flex-column justify-content-between p-3">
            <div>
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-lightning-charge-fill text-success me-2"></i>
                <h5 class="fw-semibold text-success mb-1">Assistente Rápido ⚡</h5>
              </div>
              <small class="text-muted">Informe os dados para recomendação:</small>

              <input type="text" id="nome" class="form-control form-control-sm mt-2" placeholder="Seu nome">
              <input type="number" id="area" class="form-control form-control-sm mt-2" placeholder="Área (m²)">

              <select id="tipo" class="form-select form-select-sm mt-2">
                <option value="">Tipo de biomassa</option>
                <option value="organica">Cana, esterco, palha</option>
                <option value="madeira">Madeira, cavacos, aparas</option>
              </select>
            </div>

            <div>
              <button class="btn btn-success btn-sm w-100 mt-3" onclick="analisar()">Analisar</button>
              <div id="resultado" class="mt-2"></div>
            </div>
          </div>
        </div>
      </div>

    </div> 
  </div> 
</section>

      <section id="servicos" class="py-5">
        <br>
        <div class="container">
          <div class="text-center mb-5">
            <h2 class="fw-bold text-success display-5 mb-3">Nossos Serviços</h2>
            <p class="lead text-muted">Soluções completas em energia sustentável para seu negócio</p>
          </div>

        <div class="row g-5">

          <div class="col-md-4">
            <div class="card service-card h-100 border-0 shadow-lg">
              <div class="card-icon-wrapper">
                <i class="bi bi-gear-fill"></i>
              </div>
              <div class="card-body text-center p-5">
                <h5 class="card-title fw-bold text-white mb-3">Consultoria em Biomassa</h5>
                <p class="card-text text-light">
                  Análise técnica e econômica para implementação de soluções em biomassa, 
                  maximizando retorno e sustentabilidade.
                </p>
                <div class="service-features">
                  <span class="feature-badge">Análise Técnica</span>
                  <span class="feature-badge">Viabilidade Econômica</span>
                  <span class="feature-badge">Projetos Personalizados</span>
                </div>
              </div>
              <div class="card-footer border-0 bg-transparent text-center pb-5">
                <a href="/login" class="btn btn-outline-light btn-lg rounded-0">Solicitar Orçamento</a>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card service-card h-100 border-0 shadow-lg">
              <div class="card-icon-wrapper">
                <i class="bi bi-tools"></i>
              </div>
              <div class="card-body text-center p-5">
                <h5 class="card-title fw-bold text-white mb-3">Instalação de Equipamentos</h5>
                <p class="card-text text-light">
                  Instalação completa de sistemas de geração de energia a partir de biomassa 
                  com tecnologia de ponta e segurança.
                </p>
                <div class="service-features">
                  <span class="feature-badge">Tecnologia Avançada</span>
                  <span class="feature-badge">Instalação Rápida</span>
                  <span class="feature-badge">Garantia Extendida</span>
                </div>
              </div>
              <div class="card-footer border-0 bg-transparent text-center pb-5">
                <a href="/login" class="btn btn-outline-light btn-lg rounded-0">Solicitar Orçamento</a>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card service-card h-100 border-0 shadow-lg">
              <div class="card-icon-wrapper">
                <i class="bi bi-shield-check"></i>
              </div>
              <div class="card-body text-center p-5">
                <h5 class="card-title fw-bold text-white mb-3">Manutenção Especializada</h5>
                <p class="card-text text-light">
                  Serviços de manutenção preventiva e corretiva para garantir máxima 
                  eficiência e durabilidade dos equipamentos.
                </p>
                <div class="service-features">
                  <span class="feature-badge">Manutenção Preventiva</span>
                  <span class="feature-badge">Suporte 24/7</span>
                  <span class="feature-badge">Peças Originais</span>
                </div>
              </div>
              <div class="card-footer border-0 bg-transparent text-center pb-5">
                <a href="/login" class="btn btn-outline-light btn-lg rounded-0">Solicitar Orçamento</a>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card service-card h-100 border-0 shadow-lg">
              <div class="card-icon-wrapper">
                <i class="bi bi-person-gear"></i>
              </div>
              <div class="card-body text-center p-5">
                <h5 class="card-title fw-bold text-white mb-3">Capacitação Técnica</h5>
                <p class="card-text text-light">
                  Treinamento e capacitação de equipes para operação e manutenção 
                  de sistemas de energia por biomassa.
                </p>
                <div class="service-features">
                  <span class="feature-badge">Treinamento Prático</span>
                  <span class="feature-badge">Certificação</span>
                  <span class="feature-badge">Suporte Contínuo</span>
                </div>
              </div>
              <div class="card-footer border-0 bg-transparent text-center pb-5">
                <a href="/login" class="btn btn-outline-light btn-lg rounded-0">Solicitar Orçamento</a>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card service-card h-100 border-0 shadow-lg">
              <div class="card-icon-wrapper">
                <i class="bi bi-graph-up-arrow"></i>
              </div>
              <div class="card-body text-center p-5">
                <h5 class="card-title fw-bold text-white mb-3">Estudos de Viabilidade</h5>
                <p class="card-text text-light">
                  Análise detalhada de custo-benefício e retorno sobre investimento 
                  para projetos de energia sustentável.
                </p>
                <div class="service-features">
                  <span class="feature-badge">Análise de ROI</span>
                  <span class="feature-badge">Projeções Financeiras</span>
                  <span class="feature-badge">Relatórios Detalhados</span>
                </div>
              </div>
              <div class="card-footer border-0 bg-transparent text-center pb-5">
                <a href="/login" class="btn btn-outline-light btn-lg rounded-0">Solicitar Orçamento</a>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card service-card h-100 border-0 shadow-lg">
              <div class="card-icon-wrapper">
                <i class="bi bi-award"></i>
              </div>
              <div class="card-body text-center p-5">
                <h5 class="card-title fw-bold text-white mb-3">Sustentabilidade e Certificação</h5>
                <p class="card-text text-light">
                  Consultoria para certificações ambientais e implementação de 
                  práticas sustentáveis em sua operação.
                </p>
                <div class="service-features">
                  <span class="feature-badge">Certificação Ambiental</span>
                  <span class="feature-badge">ESG</span>
                  <span class="feature-badge">Sustentabilidade</span>
                </div>
              </div>
              <div class="card-footer border-0 bg-transparent text-center pb-5">
                <a href="/login" class="btn btn-outline-light btn-lg rounded-0">Solicitar Orçamento</a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

<section id="feedback" class="py-5 bg-white">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-success display-6 mb-3">O que nossos clientes dizem</h2>
      <p class="lead text-muted">Experiências reais de quem já utilizou nossos serviços</p>
    </div>

    <div class="row g-4">

      <div class="col-md-4">
        <div class="card shadow-sm h-100 border-0">
          <div class="card-body">
            <p class="card-text">"A consultoria em biomassa foi essencial para reduzir nossos custos e aumentar a eficiência."</p>
            <h6 class="fw-bold text-success mb-0">Daniel Pereira Julião</h6>
            <small class="text-muted">Produtor Rural</small>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card shadow-sm h-100 border-0">
          <div class="card-body">
            <p class="card-text">"Equipe muito profissional, a manutenção preventiva evitou paradas na produção."</p>
            <h6 class="fw-bold text-success mb-0">Augusto da Silva Junior</h6>
            <small class="text-muted">Analista Rural de soja</small>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card shadow-sm h-100 border-0">
          <div class="card-body">
            <p class="card-text">"Excelente atendimento e suporte técnico, recomendo a todos que buscam energia sustentável."</p>
            <h6 class="fw-bold text-success mb-0">Alex Sander de Deus</h6>
            <small class="text-muted">Especilista em Gado</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="form-feedback" class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-success display-6 mb-3">Fale conosco</h2>
      <p class="lead text-muted">Qualquer dúvida é só entrar em contato</p>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-8">
        <form class="card shadow-sm p-4 border-0" action="/formulario_feedback" method="post">
          <div class="mb-3">
            <label for="nome" class="form-label">Seu Nome</label>
            <input type="text" class="form-control" id="nome" name="nome" placeholder="Digite seu nome" required>
          </div>

          <div class="mb-3">
            <label for="plano" class="form-label">Plano Utilizado</label>
            <select class="form-select" id="plano" name="plano">
              <option value="Nenhum" selected>Nenhum plano</option>
              <option value="BioBronze">Plano BioBronze</option>
              <option value="BioGold">Plano BioGold</option>
              <option value="BioPlatinum">Plano BioPlatinum</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="mensagem" class="form-label">Sua mensagem</label>
            <textarea class="form-control" id="mensagem" rows="4" name="mensagem" placeholder="Escreva sua experiência..." required></textarea>
          </div>

          <button type="submit" class="btn btn-success btn-lg">Enviar Mensagem</button>
        </form>
      </div>
    </div>
  </div>
</section>


<br>
<footer class="bg-dark text-light py-4">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h6 class="text-success fw-bold">Contato</h6>
        <p class="mb-1"><i class="bi bi-envelope"></i> bioenergy@gmail.com</p>
        <p class="mb-1"><i class="bi bi-telephone"></i> +55 11 00000-0000</p>
        <p class="mb-0"><i class="bi bi-whatsapp"></i> +55 11 97774-3204</p>
      </div>
      <div class="col-md-6 text-md-end mt-3 mt-md-0">
        <small>Copyright © 2025 BioEnergy. Todos os direitos reservados.</small>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12 d-flex justify-content-center">
        <img src="/img/logo.svg" alt="Logo BioEnergy preta" style="max-width: 180px;">
      </div>
    </div>
  </div>
</footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <script>
      const ctx = document.getElementById('operationalCostChart').getContext('2d');
      const operationalCostChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['janeiro', 'fevereiro', 'março', 'abril', 'maio'],
          datasets: [{
            label: 'Custo operacional (mil) — valores ilustrativos',
            data: [55, 52.5, 49.3, 49.2, 45.44, 39.7],
            borderColor: 'rgba(25,135,84,0.45)',
            backgroundColor: 'rgba(25,135,84,0.08)',
            borderWidth: 2,
            tension: 0.15,
            pointBackgroundColor: 'rgba(255,255,255,0.9)',
            pointBorderColor: 'rgba(25,135,84,0.45)',
            pointRadius: 3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: false,
              ticks: { color: '#556' }
            },
            x: { ticks: { color: '#556' } }
          },
          plugins: {
            legend: { display: false },
            tooltip: {
              backgroundColor: 'rgba(0,0,0,0.75)',
              titleColor: '#fff',
              bodyColor: '#fff'
            }
          }
        }
      });

const chatbox = document.getElementById("chatbox");
const input = document.getElementById("user-input");
const sendBtn = document.getElementById("send-btn");

if (chatbox && input && sendBtn) {
  function appendMessage(role, text) {
    const messageDiv = document.createElement("div");
    messageDiv.className = `message ${role === "user" ? "message-user" : "message-bot"}`;
    const contentDiv = document.createElement("div");
    contentDiv.className = "message-content";
    contentDiv.textContent = text;
    const timeDiv = document.createElement("div");
    timeDiv.className = "message-time";
    timeDiv.textContent = "Agora";
    messageDiv.appendChild(contentDiv);
    messageDiv.appendChild(timeDiv);
    chatbox.appendChild(messageDiv);
    chatbox.scrollTop = chatbox.scrollHeight;
  }

  async function sendMessage() {
    const text = input.value.trim();
    if (!text) return;
    appendMessage("user", text);
    input.value = "";
    try {
      const resp = await fetch("/chatbot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text })
      });
      const data = await resp.json();
      appendMessage("bot", data.reply);
    } catch (err) {
      appendMessage("bot", "Desculpe, ocorreu um erro ao conectar com o servidor. Tente novamente mais tarde.");
    }
  }

  sendBtn.addEventListener("click", sendMessage);
  input.addEventListener("keydown", e => {
    if (e.key === "Enter") sendMessage();
  });

  const chatInputContainer = document.querySelector('.chat-input-container');
  if (chatInputContainer) {
    chatInputContainer.innerHTML = `
      <div class="alert alert-warning w-100 mb-0 text-center" role="alert">
        ⚠️ Você só pode usar o chatbot na página dos usuários. <a href="/login" class="btn btn-danger">Login</a>
      </div>
    `;
  }
}

async function analisar() {
  const nome = document.getElementById('nome').value;
  const area = document.getElementById('area').value;
  const tipo = document.getElementById('tipo').value;
  const resultado = document.getElementById('resultado');

  try {
    const resposta = await fetch('/assistente', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ nome, area, tipo })
    });
    const dados = await resposta.json();
    if (resposta.ok) {
      resultado.innerHTML = `<div class="alert alert-success">${dados.mensagem}</div>`;
    } else {
      resultado.innerHTML = `<div class="alert alert-danger">${dados.erro}</div>`;
    }
  } catch (err) {
    resultado.innerHTML = `<div class="alert alert-danger">Erro ao processar: ${err.message}</div>`;
  }
}

async function atualizarNavbar() {
  const navbarItems = document.getElementById('navbarItems');
  if (!navbarItems) return;
  navbarItems.innerHTML = '';

  try {
    const response = await fetch('/session', { credentials: 'include' });
    if (!response.ok) throw new Error('Não autenticado');

    const data = await response.json();
    const usuario = data.usuario;
    const tipo = data.tipo;

    if (tipo === 'admin') {
      navbarItems.innerHTML = `
        <li class="nav-item"><a class="nav-link" href="/">HOME</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin">ADMIN</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin/usuarios">USUÁRIOS</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin/manutencoes">MANUTENÇÕES</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin/servicos">SERVIÇOS</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin/produtos">PRODUTOS</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle fs-4 me-1"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><h6 class="dropdown-header">Informações Pessoais</h6></li>
            <li><a class="dropdown-item">Usuário: <span id="nome-usuario">${usuario}</span></a></li>
            <li><a class="dropdown-item">Acesso: ADMIN</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/mudar-senha">Mudar Senha</a></li>
            <li><a class="dropdown-item" href="/mudar-usuario">Mudar Usuário</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#" onclick="realizarLogout(event)">Sair</a></li>
          </ul>
        </li>
      `;
    } else {
      navbarItems.innerHTML = `
        <li class="nav-item"><a class="nav-link" href="/">HOME</a></li>
        <li class="nav-item"><a class="nav-link" href="/user">USER</a></li>
        <li class="nav-item"><a class="nav-link" href="/produtos">PRODUTOS</a></li>
        <li class="nav-item"><a class="nav-link" href="/servicos">SERVIÇOS</a></li>
        <li class="nav-item"><a class="nav-link" href="/manutencoes">MANUTENÇÕES</a></li>
        <li class="nav-item"><a class="nav-link" href="/carrinho"><i class="bi bi-cart-fill fs-4"></i></a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle fs-4 me-1"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><h6 class="dropdown-header">Informações Pessoais</h6></li>
            <li><a class="dropdown-item">Usuário: <span id="nome-usuario">${usuario}</span></a></li>
            <li><a class="dropdown-item">Acesso: USUÁRIO</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/mudar-senha">Mudar Senha</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#" onclick="realizarLogout(event)">Sair</a></li>
          </ul>
        </li>
      `;
    }
  } catch {
    navbarItems.innerHTML = `
      <li class="nav-item"><a class="nav-link active fade-in-up" href="/">HOME</a></li>
      <li class="nav-item"><a class="nav-link fade-in-up" href="/#sobre">SOBRE</a></li>
      <li class="nav-item"><a class="nav-link fade-in-up" href="/#assistentes">ASSISTENTE</a></li>
      <li class="nav-item"><a class="nav-link fade-in-up" href="/#servicos">SERVIÇOS</a></li>
      <li class="nav-item"><a href="/login" class="btn btn-outline-light fw-semibold shadow-sm me-2">Login</a></li>
      <li class="nav-item"><a href="/registro" class="btn btn-outline-light fw-semibold shadow-sm ms-1">Registre-se</a></li>
    `;
  }
}

// Logout
function realizarLogout(event) {
  event.preventDefault();
  sessionStorage.removeItem('usuarioLogado');
  sessionStorage.removeItem('logado');
  window.location.href = '/sair';
}

window.onload = atualizarNavbar;
    </script>


  </body>
  </html>